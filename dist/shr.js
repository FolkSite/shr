!function(e){"use strict";function t(e,t){f.debug&&window.console&&console[t?"error":"log"](e)}function n(e,t,o,r){var i=t.split(" ");if(e instanceof NodeList)for(var c=0;c<e.length;c++)e[c]instanceof Node&&n(e[c],arguments[1],arguments[2],arguments[3]);else for(var u=0;u<i.length;u++)e[r?"addEventListener":"removeEventListener"](i[u],o,!1)}function o(e,t,o){e&&n(e,t,o,!0)}function r(e,t){for(var n in t)t[n]&&t[n].constructor&&t[n].constructor===Object?(e[n]=e[n]||{},r(e[n],t[n])):e[n]=t[n];return e}function i(e,t){if(t.network in f.popup){e.preventDefault();var n=f.popup[t.network],o=t.link.href,r=n.width,i=n.height,c=t.network;if(window["window-"+c]&&!window["window-"+c].closed)window["window-"+c].focus();else{var u=void 0!==window.screenLeft?window.screenLeft:screen.left,s=void 0!==window.screenTop?window.screenTop:screen.top,a=screen.width/2-r/2+u,d=screen.height/2-i/2+s;window["window-"+c]=window.open(o,c,"top="+d+",left="+a+",width="+r+",height="+i),window["window-"+c].focus()}}}function c(e,t){t=t.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var n=new RegExp("[\\?&]"+t+"=([^&#]*)"),o=n.exec(e);return null===o?"":decodeURIComponent(o[1].replace(/\+/g," "))}function u(e,t){var n="jsonp_callback_"+Math.round(1e5*Math.random());window[n]=function(e){delete window[n],document.body.removeChild(o),t(e)};var o=document.createElement("script");o.setAttribute("src",e+(e.indexOf("?")>=0?"&":"?")+"callback="+n),document.body.appendChild(o)}function s(e){var t=e.link.getAttribute("href"),n="";switch("string"==typeof t&&t.length&&(n="?"+t.split("?")[1]),e.network){case"facebook":return c(n,"u");default:return c(n,"url")}}function a(e,t){return e.network in f.urls?u(f.urls[e.network](encodeURIComponent(e.url)),t):!1}function d(e,t){var n,o;switch(e.network){case"facebook":n=t.shares;break;default:n=t.count}e.count="number"==typeof n?n:0,o=e.count,o=f.count.format&&e.count>1e6?Math.round(e.count/1e6)+"M":f.count.format&&e.count>1e3?Math.round(e.count/1e3)+"K":e.count.toLocaleString(),(e.count>0||f.count.displayZero)&&e.link.insertAdjacentHTML("after"===f.count.position?"afterend":"beforebegin",f.count.html(o,f.count.classname))}function l(e){var n=this;return"undefined"==typeof e?(t("No share link found. Bailing.",!0),!1):(n.link=e,n.network=e.getAttribute("data-share"),n.url=s(n),a(n,function(e){d(n,e)}),o(n.link,"click",function(e){i(e,n)}),n)}var f,w={selector:"[data-share]",count:{classname:"share-count",displayZero:!0,format:!1,position:"after",html:function(e,t){return'<span class="'+t+'">'+e+"</span>"}},urls:{facebook:function(e){return"https://graph.facebook.com/?id="+e},twitter:function(e){return"https://cdn.api.twitter.com/1/urls/count.json?url="+e},pinterest:function(e){return"https://widgets.pinterest.com/v1/urls/count.json?url="+e}},popup:{google:{width:500,height:500},facebook:{width:640,height:270},twitter:{width:640,height:240},pinterest:{width:750,height:550}}};e.setup=function(e){f=r(w,e);for(var t=document.querySelectorAll(f.selector),n=t.length-1;n>=0;n--){var o=t[n];if("undefined"==typeof o.shr){var i=new l(o);o.shr=Object.keys(i).length?i:!1}}}}(this.shr=this.shr||{});